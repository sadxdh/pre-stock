# 量化交易基本概念

## 复权收盘价

1. 上市公司在送股后，股票的数量变多，但公司价值不变，股价变低，在[K线图](https://so.csdn.net/so/search?q=K线图&spm=1001.2101.3001.7020)上就会出现一个缺口，涨跌幅变得不合理，很多指标通过这样的数据计算出来基本不可用，所以就需要修补这个缺口，这个过程就叫复权。
2. 复权有分前复权和后复权，比较通用的是前复权，一般指标的计算都是使用前复权数据
3. 前复权是以最近一次的除权日为起点，往前回溯对数据进行调整，可以粗糙地理解是把以前的数据往下平移，去除缺口，**前复权后价格=(复权前价格-现金红利)/(1+流通股份变动比例)**，这里的“复权前价格”是股权登记日的收盘价
4. 后复权要看我们使用的数据以什么时候为起点，可以是上市当日，也可以自己任意取一个开始日期，可以粗糙地理解是从开始日期把往后的数据向上平移，去除缺口
   **后复权后价格=复权前价格×(1+流通股份变动比例)+现金红利**，这里的“复权前价格”是除权除息日的收盘价

**计算后复权因子**

1. 后复权后价格=复权前价格×(1+流通股份变动比例)+现金红利
2. 计算的是“除权除息日”的收盘价
3. 后复权因子 = 后复权后价格/复权前价格
4. 后复权除权因子，要看你的收盘价数据是以什么时间为起点，你收盘价数据的起点就是后复权除权因子计算的起点，往后开始累乘后复权因子，所得到的数值为“后复权除权因子”，这样历史未复权收盘价乘以后复权除权因子后就是后复权收盘价

 **计算前复权收盘价**：前复权收盘价 = 无复权收盘价*前复权除权因子

**计算后复权收盘价** ：后复权收盘价 = 无复权收盘价*后复权除权因子

**直接获取复权后数据**：

```python
import akshare as ak
stock_df = ak.stock_zh_a_hist(symbol='600519', period="daily", start_date='20220101', end_date='20220125', adjust="qfq") 
stock_df
```

**adjust参数**：qfq：前复权收盘价和后复权收盘价